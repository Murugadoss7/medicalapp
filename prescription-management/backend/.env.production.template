# Production Environment Configuration for Google Cloud Run
# Copy this file to .env.production and fill in the values
# DO NOT commit .env.production to git (already in .gitignore)

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=production
DEBUG=False

# ============================================================================
# DATABASE (Neon PostgreSQL)
# ============================================================================
# Get from: https://console.neon.tech
# Format: postgresql://[USER]:[PASSWORD]@[HOST]/[DATABASE]?sslmode=require
DATABASE_URL=postgresql://username:password@hostname.neon.tech/prescription_management?sslmode=require

# ============================================================================
# SECURITY - CRITICAL: Generate NEW secrets for production!
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=REPLACE_WITH_RANDOM_32_CHAR_SECRET
SECRET_KEY=REPLACE_WITH_RANDOM_32_CHAR_SECRET

# ============================================================================
# CORS - Add your Vercel domain(s)
# ============================================================================
# Format: ["https://your-app.vercel.app","https://custom-domain.com"]
ALLOWED_ORIGINS=["https://your-app.vercel.app"]

# ============================================================================
# CLOUDFLARE R2 STORAGE
# ============================================================================
# Get from: https://dash.cloudflare.com → R2 → Manage R2 API Tokens
CLOUD_STORAGE_PROVIDER=cloudflare
CLOUDFLARE_R2_ACCESS_KEY=your_access_key_id
CLOUDFLARE_R2_SECRET_KEY=your_secret_access_key
CLOUDFLARE_R2_BUCKET=dental-attachments
CLOUDFLARE_R2_ENDPOINT=https://xxxxxxxxxxxxx.r2.cloudflarestorage.com
CLOUDFLARE_R2_PUBLIC_URL=https://pub-xxxxxxxxxxxxx.r2.dev

# ============================================================================
# OPENAI (Optional - for AI Case Studies)
# ============================================================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini

# ============================================================================
# BASE URL (Will be your Cloud Run URL)
# ============================================================================
# After first deployment, update this with your Cloud Run URL
# Example: https://medical-app-backend-xxxxx-uc.a.run.app
BASE_URL=https://your-cloud-run-url.run.app

# ============================================================================
# REDIS (Optional - can disable to save costs)
# ============================================================================
# Option 1: Disable Redis (comment out or leave empty)
# REDIS_URL=

# Option 2: Use Upstash Redis (free tier)
# Get from: https://console.upstash.com
# REDIS_URL=rediss://default:password@hostname.upstash.io:6379

# ============================================================================
# FILE UPLOAD
# ============================================================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=["pdf","jpg","jpeg","png","dcm","dicom"]

# ============================================================================
# JWT EXPIRATION
# ============================================================================
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# AUDIT LOGGING
# ============================================================================
ENABLE_AUDIT_LOGGING=True
AUDIT_LOG_RETENTION_DAYS=2555

# ============================================================================
# MONITORING (Optional)
# ============================================================================
# Sentry DSN for error tracking: https://sentry.io
# SENTRY_DSN=your-sentry-dsn-here
